<!DOCTYPE html>

<html>
    <head><base href="/" />

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
            <script type="module">window.__PERSEUS_RENDER_CFG = `{"":""}`;

        import init from "/.perseus/bundle.js";
        async function main() {
            await init("/.perseus/bundle.wasm");
        }
        //main();

        
        

window.__PERSEUS_GLOBAL_STATE = `null`;</script>
            <meta itemprop="__perseus_head_boundary" content="">
            
<title>Rust in the FrontEnd</title><link rel=stylesheet href=/.perseus/static/css/meyerweb.css><link rel=stylesheet href=/.perseus/static/css/impress-common.css><link rel=stylesheet href=/.perseus/static/css/rust-in-the-frontend.css><link rel=stylesheet href=/.perseus/static/css/rust-in-the-frontend.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/a11y-dark.min.css><link rel=apple-touch-icon sizes=180x180 href=/.perseus/static/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/.perseus/static/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/.perseus/static/favicon-16x16.png><link rel=manifest href=/.perseus/static/site.webmanifest><link rel=mask-icon href=/.perseus/static/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/typescript.min.js></script>
            <script>
window.__PERSEUS_INITIAL_STATE = `null`;
window.__PERSEUS_INITIAL_WIDGET_STATES = `{}`;
window.__PERSEUS_TRANSLATIONS = ``;</script>
            <meta itemprop="__perseus_head_end" content="">
            <script>//</script>
            </head>
    <body>
        <div id="root"><div data-hk=1.0 id=impress data-transition-duration=1000 data-width=1024 data-height=768 data-max-scale=3 data-min-scale=0 data-perspective=1000><div data-hk=2.5 class=step id=intro data-x=0 data-y=0 data-rotate=0><header data-hk=2.0><img data-hk=2.1 src=/.perseus/static/images/rustacean-flat-happy.png alt="Ferris the Crab looking happy"><h1 data-hk=2.2>Rust in the Frontend</h1><h2 data-hk=2.3>A brief guide to making websites with Rust in 2023</h2><h2 data-hk=2.4>Daniel Mason</h2></header></div><div data-hk=3.3 class=step id=why data-x=1200 data-y=0 data-rotate=0><div data-hk=3.0 class=center><img data-hk=3.1 src=/.perseus/static/images/why-jackie-chan.png alt="Jackie Chan: Why would you do that?"><h2 data-hk=3.2 style="display: none">Why would I want to do that?</h2></div></div><div data-hk=4.3 class=step id=why-speed-rust data-x=2400 data-y=0 data-rotate=0><h3 data-hk=4.0>Rust is fast</h3><p data-hk=4.1>Rust is a language known for its speed</p><img data-hk=4.2 src=/.perseus/static/images/speed-elapsed-seconds.png></div><div data-hk=5.3 class=step id=why-speed-wasm data-x=3600 data-y=0 data-rotate=0><h3 data-hk=5.0>WASM is fast</h3><p data-hk=5.1>WASM is known to provide a secure, high performance runtime for the web</p><img data-hk=5.2 src=/.perseus/static/images/speed-wasm.png></div><div data-hk=6.10 class=step id=why-rust-wasm data-x=4800 data-y=0 data-rotate=0><h3 data-hk=6.0>Rust WASM ecosystem is very mature</h3><ul data-hk=6.1><li data-hk=6.2>Tier 2: <span data-hk=6.3 class=code>rustup add target wasm32-unknown-unknown</span><li data-hk=6.4>Living book, tutorials, tools: <a data-hk=6.5 href=https://rustwasm.github.io/>https://rustwasm.github.io/</a><li data-hk=6.6>Write once, run anywhere: <a data-hk=6.7 href=https://tauri.app/>https://tauri.app/</a><li data-hk=6.8>Official Rust WASM Working Group: <a data-hk=6.9 href=https://www.rust-lang.org/governance/wgs/wasm>https://www.rust-lang.org/governance/wgs/wasm</a></ul></div><div data-hk=7.3 class=step id=why-rust-correctness data-x=6000 data-y=0 data-rotate=0><h3 data-hk=7.0>Rust is robust, reliable and 'correct'</h3><p data-hk=7.1>Typescript:<pre data-hk=8.0 class=theme-ally-dark><code data-hk=8.1 class=language-typescript>async function getUser(email: string): Promise&LTResult&LTError, User>> { 
  const response = await fetch(`https://example.com/${email}`);
  const user = await response.json()
  return user.email === email
    ? Result.ok(user)
    : Result.error(new Error('Incorrect user returned');
}
</code></pre><p data-hk=7.2>Rust:<pre data-hk=9.0 class=theme-ally-dark><code data-hk=9.1 class=language-rust>async fn getUser(email: &str) -> Result&LTUser, GetUserError> {
    let user: User = get(format!("https://example.com/{email}")).await?
        .json().await?;
    if user.email == email {
        Ok(user)
    } else {
        Err(GetUserError::IncorrectUserReturned)
    }
}
</code></pre></div><div data-hk=10.1 class=step id=options data-x=0 data-y=1000 data-rotate=0><h2 data-hk=10.0>What are my options</h2></div><div data-hk=11.7 class=step id=options-yew data-x=0 data-y=2000 data-rotate=0><header data-hk=11.0><img data-hk=11.1 class=logo src=/.perseus/static/images/logo-yew.png alt="Sycamore Logo"><h3 data-hk=11.2>Yew</h3></header><ul data-hk=11.3><li data-hk=11.4>Yew looks a lot like React<li data-hk=11.5>Uses a Virtual DOM<li data-hk=11.6>Supports CSR, SSR, and SSG</ul></div><div data-hk=12.1 class=step id=options-yew-demo-counter data-x=1200 data-y=2000 data-rotate=0><h3 data-hk=12.0>Yew Counter</h3><pre data-hk=13.0 class=theme-ally-dark><code data-hk=13.1 class=language-rust>#[function_component]
fn Counter() -> Html {
    let counter = use_state(|| 0);
    let increment = {
        let counter = counter.clone();
        move |_| { counter.set(*counter + 1); }
    };
    let decrement = {
        let counter = counter.clone();
        move |_| { counter.set(*counter - 1); }
    };

    html! {
        &LTdiv>
            &LTp>{ *counter }&LT/p>
            &LTbutton onclick={increment}>{ "+1" }&LT/button>
            &LTbutton onclick={decrement}>{ "-1" }&LT/button>
        &LT/div>
    }
}
</code></pre></div><div data-hk=14.1 class=step id=options-yew-demo-counter-usage data-x=2400 data-y=2000 data-rotate=0><h3 data-hk=14.0>Yew Counter Usage</h3><pre data-hk=15.0 class=theme-ally-dark><code data-hk=15.1 class=language-rust>#[function_component]
fn App() -> Html {
    html! {
        <>
            &LTh1>{"Counter Example - Yew"}&LT/h1>
            &LTCounter />
        &LT/>
    }
}
</code></pre></div><div data-hk=16.7 class=step id=options-perseus data-x=0 data-y=3000 data-rotate=0><header data-hk=16.0><img data-hk=16.1 class=logo src=/.perseus/static/images/logo-sycamore.png alt="Sycamore Logo"><h3 data-hk=16.2>Perseus (Sycamore)</h3></header><ul data-hk=16.3><li data-hk=16.4>Perseus is to Sycamore what Next is to React<li data-hk=16.5>Does not use Virtual DOM, uses 'fine grain reactivity'<li data-hk=16.6>Supports CSR, SSR, and SSG</ul></div><div data-hk=17.1 class=step id=options-perseus-demo-counter data-x=1200 data-y=3000 data-rotate=0><h3 data-hk=17.0>Perseus Counter</h3><pre data-hk=18.0 class=theme-ally-dark><code data-hk=18.1 class=language-rust>#[component]
#[auto_scope]
fn Counter&LTG: Html>(cx: Scope, state: &CounterStateRx) -> View&LTG> {
    view! { cx,
        div {
            p { (state.total.get()) }
            button( on:click = move |_| {state.total.set(*state.total.get() + 1)}) { "+1" }
            button( on:click = move |_| {state.total.set(*state.total.get() - 1)}) { "-1" }
        }
    }
}
</code></pre></div><div data-hk=19.1 class=step id=options-perseus-demo-state data-x=2400 data-y=3000 data-rotate=0><h3 data-hk=19.0>Perseus State</h3><pre data-hk=20.0 class=theme-ally-dark><code data-hk=20.1 class=language-rust>#[derive(Default, Serialize, Deserialize, Clone, ReactiveState)]
#[rx(alias = "CounterStateRx")]
struct State {
    total: i32,
}
</code></pre></div><div data-hk=21.1 class=step id=options-perseus-demo-counter-usage data-x=3600 data-y=3000 data-rotate=0><h3 data-hk=21.0>Perseus Counter Usage</h3><pre data-hk=22.0 class=theme-ally-dark><code data-hk=22.1 class=language-rust>#[auto_scope]
fn index_page&LTG: Html>(cx: Scope, state: &CounterStateRx) -> View&LTG> {
    view! { cx,
        h1 { "Counter Example - Perseus" }
        Counter(state)
    }
}
</code></pre></div><div data-hk=23.7 class=step id=options-dioxus data-x=0 data-y=4000 data-rotate=0><header data-hk=23.0><img data-hk=23.1 class=logo src=/.perseus/static/images/logo-dioxus.png alt="Sycamore Logo"><h3 data-hk=23.2>Dioxus</h3></header><ul data-hk=23.3><li data-hk=23.4>Similar 'reactivity' approach to Sycamore<li data-hk=23.5>Looks a lot like Sycamore too'<li data-hk=23.6>Supports CSR, SSR, SSG, Desktop, and more!</ul></div><div data-hk=24.1 class=step id=options-dioxus-demo-counter data-x=1200 data-y=4000 data-rotate=0><h3 data-hk=24.0>Dioxus Counter</h3><pre data-hk=25.0 class=theme-ally-dark><code data-hk=25.1 class=language-rust>fn Counter(cx: Scope) -> Element {
    let mut count = use_state(cx, || 0);

    render!(
        p { "{count}" }
        button { onclick: move |_| count += 1, "+1" }
        button { onclick: move |_| count -= 1, "-1" }
    )
}
</code></pre></div><div data-hk=26.1 class=step id=options-dioxus-demo-counter-usage data-x=2400 data-y=4000 data-rotate=0><h3 data-hk=26.0>Dioxus Counter Usage</h3><pre data-hk=27.0 class=theme-ally-dark><code data-hk=27.1 class=language-rust>fn App(cx: Scope) -> Element {
    render!(
        h1 { "Counter Example - Dioxus" }
        Counter { }
    )
}
</code></pre></div><div data-hk=28.226 class=step id=options-comparison data-x=0 data-y=5000 data-rotate=0><h3 data-hk=28.0>Comparison</h3><table data-hk=28.1><thead data-hk=28.2><tr data-hk=28.3><th data-hk=28.4>Name<th data-hk=28.5>dioxus<br data-hk=28.6>v0.4.0<th data-hk=28.7>sycamore<br data-hk=28.8>v0.8.0<th data-hk=28.9>react<br data-hk=28.10>v18.2.0<th data-hk=28.11>yew<br data-hk=28.12>v0.20.0<tbody data-hk=28.13><tr data-hk=28.14><th data-hk=28.15>create rows<br data-hk=28.16>creating 1,000 rows (5 warmup runs).<td data-hk=28.17><span data-hk=28.18 class=mean>39.7</span><br data-hk=28.19><span data-hk=28.20 class=deviation>0.5</span><span data-hk=28.21 class=factor>(1.08)</span><td data-hk=28.22><span data-hk=28.23 class=mean>45.2</span><br data-hk=28.24><span data-hk=28.25 class=deviation>0.4</span><span data-hk=28.26 class=factor>(1.23)</span><td data-hk=28.27><span data-hk=28.28 class=mean>45.6</span><br data-hk=28.29><span data-hk=28.30 class=deviation>0.4</span><span data-hk=28.31 class=factor>(1.24)</span><td data-hk=28.32><span data-hk=28.33 class=mean>69.4</span><br data-hk=28.34><span data-hk=28.35 class=deviation>0.5</span><span data-hk=28.36 class=factor>(1.88)</span><tr data-hk=28.37><th data-hk=28.38>replace all rows<br data-hk=28.39>updating all 1,000 rows (5 warmup runs).<td data-hk=28.40><span data-hk=28.41 class=mean>43.1</span><br data-hk=28.42><span data-hk=28.43 class=deviation>0.3</span><span data-hk=28.44 class=factor>(1.11)</span><td data-hk=28.45><span data-hk=28.46 class=mean>49.8</span><br data-hk=28.47><span data-hk=28.48 class=deviation>0.3</span><span data-hk=28.49 class=factor>(1.28)</span><td data-hk=28.50><span data-hk=28.51 class=mean>48.4</span><br data-hk=28.52><span data-hk=28.53 class=deviation>0.7</span><span data-hk=28.54 class=factor>(1.24)</span><td data-hk=28.55><span data-hk=28.56 class=mean>73.3</span><br data-hk=28.57><span data-hk=28.58 class=deviation>0.4</span><span data-hk=28.59 class=factor>(1.88)</span><tr data-hk=28.60><th data-hk=28.61>partial update<br data-hk=28.62>updating every 10th row for 1,000 rows (3 warmup runs). 16 x CPU slowdown.<td data-hk=28.63><span data-hk=28.64 class=mean>83.6</span><br data-hk=28.65><span data-hk=28.66 class=deviation>3.1</span><span data-hk=28.67 class=factor>(1.06)</span><td data-hk=28.68><span data-hk=28.69 class=mean>90.5</span><br data-hk=28.70><span data-hk=28.71 class=deviation>3.3</span><span data-hk=28.72 class=factor>(1.15)</span><td data-hk=28.73><span data-hk=28.74 class=mean>103.2</span><br data-hk=28.75><span data-hk=28.76 class=deviation>3.0</span><span data-hk=28.77 class=factor>(1.31)</span><td data-hk=28.78><span data-hk=28.79 class=mean>100.0</span><br data-hk=28.80><span data-hk=28.81 class=deviation>2.5</span><span data-hk=28.82 class=factor>(1.27)</span><tr data-hk=28.83><th data-hk=28.84>select row<br data-hk=28.85>highlighting a selected row. (5 warmup runs). 16 x CPU slowdown.<td data-hk=28.86><span data-hk=28.87 class=mean>13.4</span><br data-hk=28.88><span data-hk=28.89 class=deviation>0.8</span><span data-hk=28.90 class=factor>(1.46)</span><td data-hk=28.91><span data-hk=28.92 class=mean>17.7</span><br data-hk=28.93><span data-hk=28.94 class=deviation>1.2</span><span data-hk=28.95 class=factor>(1.93)</span><td data-hk=28.96><span data-hk=28.97 class=mean>24.1</span><br data-hk=28.98><span data-hk=28.99 class=deviation>1.1</span><span data-hk=28.100 class=factor>(2.63)</span><td data-hk=28.101><span data-hk=28.102 class=mean>21.6</span><br data-hk=28.103><span data-hk=28.104 class=deviation>0.8</span><span data-hk=28.105 class=factor>(2.36)</span><tr data-hk=28.106><th data-hk=28.107>swap rows<br data-hk=28.108>swap 2 rows for table with 1,000 rows. (5 warmup runs). 4 x CPU slowdown.<td data-hk=28.109><span data-hk=28.110 class=mean>26.8</span><br data-hk=28.111><span data-hk=28.112 class=deviation>0.7</span><span data-hk=28.113 class=factor>(1.13)</span><td data-hk=28.114><span data-hk=28.115 class=mean>26.2</span><br data-hk=28.116><span data-hk=28.117 class=deviation>0.8</span><span data-hk=28.118 class=factor>(1.11)</span><td data-hk=28.119><span data-hk=28.120 class=mean>160.7</span><br data-hk=28.121><span data-hk=28.122 class=deviation>1.3</span><span data-hk=28.123 class=factor>(6.79)</span><td data-hk=28.124><span data-hk=28.125 class=mean>27.0</span><br data-hk=28.126><span data-hk=28.127 class=deviation>0.8</span><span data-hk=28.128 class=factor>(1.14)</span><tr data-hk=28.129><th data-hk=28.130>remove row<br data-hk=28.131>removing one row. (5 warmup runs). 4 x CPU slowdown.<td data-hk=28.132><span data-hk=28.133 class=mean>40.9</span><br data-hk=28.134><span data-hk=28.135 class=deviation>1.0</span><span data-hk=28.136 class=factor>(1.10)</span><td data-hk=28.137><span data-hk=28.138 class=mean>41.3</span><br data-hk=28.139><span data-hk=28.140 class=deviation>0.9</span><span data-hk=28.141 class=factor>(1.11)</span><td data-hk=28.142><span data-hk=28.143 class=mean>43.5</span><br data-hk=28.144><span data-hk=28.145 class=deviation>1.3</span><span data-hk=28.146 class=factor>(1.17)</span><td data-hk=28.147><span data-hk=28.148 class=mean>42.1</span><br data-hk=28.149><span data-hk=28.150 class=deviation>1.1</span><span data-hk=28.151 class=factor>(1.13)</span><tr data-hk=28.152><th data-hk=28.153>create many rows<br data-hk=28.154>creating 10,000 rows. (5 warmup runs with 1k rows).<td data-hk=28.155><span data-hk=28.156 class=mean>433.3</span><br data-hk=28.157><span data-hk=28.158 class=deviation>1.4</span><span data-hk=28.159 class=factor>(1.09)</span><td data-hk=28.160><span data-hk=28.161 class=mean>569.3</span><br data-hk=28.162><span data-hk=28.163 class=deviation>2.4</span><span data-hk=28.164 class=factor>(1.43)</span><td data-hk=28.165><span data-hk=28.166 class=mean>619.2</span><br data-hk=28.167><span data-hk=28.168 class=deviation>3.1</span><span data-hk=28.169 class=factor>(1.56)</span><td data-hk=28.170><span data-hk=28.171 class=mean>2,386.9</span><br data-hk=28.172><span data-hk=28.173 class=deviation>10.3</span><span data-hk=28.174 class=factor>(6.00)</span><tr data-hk=28.175><th data-hk=28.176>append rows to large table<br data-hk=28.177>appending 1,000 to a table of 10,000 rows. 2 x CPU slowdown.<td data-hk=28.178><span data-hk=28.179 class=mean>91.8</span><span data-hk=28.180 class=deviation>0.4</span><span data-hk=28.181 class=factor>(1.09)</span><td data-hk=28.182><span data-hk=28.183 class=mean>100.5</span><span data-hk=28.184 class=deviation>1.3</span><span data-hk=28.185 class=factor>(1.20)</span><td data-hk=28.186><span data-hk=28.187 class=mean>99.5</span><span data-hk=28.188 class=deviation>0.6</span><span data-hk=28.189 class=factor>(1.19)</span><td data-hk=28.190><span data-hk=28.191 class=mean>153.8</span><span data-hk=28.192 class=deviation>1.4</span><span data-hk=28.193 class=factor>(1.83)</span><tr data-hk=28.194><th data-hk=28.195>clear rows<br data-hk=28.196>clearing a table with 1,000 rows. 8 x CPU slowdown. (5 warmup runs).<td data-hk=28.197><span data-hk=28.198 class=mean>32.8</span><span data-hk=28.199 class=deviation>1.2</span><span data-hk=28.200 class=factor>(1.37)</span><td data-hk=28.201><span data-hk=28.202 class=mean>33.0</span><span data-hk=28.203 class=deviation>0.5</span><span data-hk=28.204 class=factor>(1.38)</span><td data-hk=28.205><span data-hk=28.206 class=mean>30.7</span><span data-hk=28.207 class=deviation>0.5</span><span data-hk=28.208 class=factor>(1.28)</span><td data-hk=28.209><span data-hk=28.210 class=mean>52.0</span><span data-hk=28.211 class=deviation>0.5</span><span data-hk=28.212 class=factor>(2.17)</span><tr data-hk=28.213><th data-hk=28.214>geometric mean<br data-hk=28.215>of all factors in the table<th data-hk=28.216>1.16<th data-hk=28.217>1.29<th data-hk=28.218>1.67<th data-hk=28.219>1.90</table><ul data-hk=28.220><li data-hk=28.221>Yew is slower than React<li data-hk=28.222>Sycamore is faster<li data-hk=28.223>Dioxus is faster still<li data-hk=28.224>Speed isn't everything<li data-hk=28.225>Dioxus and Sycamore don't allow copy paste html, Yew does</ul></div><div data-hk=29.10 class=step id=conclusion data-x=0 data-y=6000 data-rotate=0><h2 data-hk=29.0>Wait, should I even do this</h2><ul data-hk=29.1><li data-hk=29.2>Probably not<li data-hk=29.3>Speed isn't everything<li data-hk=29.4>Speed differences are small<li data-hk=29.5>But it depends<ul data-hk=29.6><li data-hk=29.7>These speeds are for rendering<li data-hk=29.8>Speed differences are much greater for raw calculations</ul><li data-hk=29.9>Dioxus and Sycamore don't allow copy paste html, Yew does</ul></div></div><script data-hk=1.1 src=/.perseus/static/js/impress.js></script><script data-hk=1.2>window.impress || document.write(`&lt;script src='https://cdn.jsdelivr.net/gh/impress/impress.js@2.0.0/js/impress.js'>&lt;/script>`);</script><script data-hk=1.3>impress().init()</script></div>
    <div id="__perseus_popup_error"></div></body>
</html>
